chown 命令

用途：更改与文件关联的所有者或组。

语法
chown [ -f ] [ -h ] [ -R ] Owner [ :Group ] { File ... | Directory ... }

chown -R [ -f ] [ -H | -L | -P ] Owner [ :Group ] { File ... | Directory ... }

描述
chown 命令将 File 参数指定的文件的所有者更改为 Owner 参数指定的用户。Owner 参数的值可以是可在 /etc/passwd 文件中找到的用户标识或登录名。还可以选择性地指定组。Group 参数的值可以是可在 /etc/group 文件中找到的组标识或组名。

只有 root 用户可以更改文件的所有者。只在您是 root 用户或拥有该文件的情况下才可以更改文件的组。如果拥有文件但不是 root 用户，则只可以将组更改为您是其成员的组。

虽然 -H、-L 和 -P 标志是互斥的，指定不止一个也不认为是错误。指定的最后一个标志确定命令拟稿将演示的操作。

标志

-f 禁止除用法消息之外的所有错误消息。
-h 更改遇到的符号链接的所有权，而非符号链接指向的文件或目录的所有权。
当遇到符号链接而您未指定 -h 标志时，chown 命令更改链接指向的文件或目录的所有权，而非链接本身的所有权。

如果指定 -R 标志，chown 命令递归地降序指定的目录。

-H 如果指定了 -R 选项，并且引用类型目录的文件的符号链接在命令行上指定，chown 变量会更改由符号引用的目录的用户标识（和组标识，如果已指定）和所有在该目录下的文件层次结构中的所有文件。
-L 如果指定了 -R 选项，并且引用类型目录的文件的符号在命令行上指定或在遍历文件层次结构期间遇到，chown 命令会更改由符号链接引用的目录的用户标识（和组标识，如果已指定）和在该目录之下的文件层次结构中的所有文件。
-P 如果指定了 -R 选项并且符号链接在命令行上指定或者在遍历文件层次结构期间遇到，则如果系统支持该操作，则 chown 命令会更改符号链接的所有者标识（和组标识，如果已指定）。chown 命令不会执行至文件层次结构的任何其它部分的符号链接。
-R 递归地降序目录，更改每个文件的所有权。当遇到符号链接并且链接指向目录时，更改该目录的所有权，但不进一步遍历目录。不过 -h、-H、-L or -P 标志也未指定，则当遇到符号链接并且该链接指向到目录时，该目录的组所有权更改但不会进一步遍历目录。

安全性
访问控制：此程序应该作为“可信计算基”中的正常用户程序安装。

退出状态
该命令返回以下出口值：

0 命令执行成功并已执行所有请求的更改。
>0 发生错误。

示例
要更改文件 program.c 的所有者：

chown jim program.c
program.c 的用户访问权限现在应用到 jim。作为所有者，jim 可以使用 chmod 命令允许或拒绝其他用户访问 program.c。

要将目录 /tmp/src 中所有文件的所有者和组更改为用户 john 和组 build：

chown -R john:build /tmp/src
文件

/usr/bin/chown chown 命令
/etc/group 包含组标识的文件
/etc/passwd 包含用户标识的文件